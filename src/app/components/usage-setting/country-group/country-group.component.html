<div class="container pl-30 pr-30" *ngIf="enterData">
    <h2 class="">Usage Settings - Country Group</h2>
    <div class="dash-line"></div>
    <p class="text-right pt-3"><span class="red">*</span> All Fields are mandatory</p>
    <div class="shadow1 mt-4 pt-4 pb-5 pl-30 pr-30">
        <h5 class="text-color pt-2">Create New Group <span class="red">*</span></h5>
        <hr>
        <form [formGroup]="countryGroupForm" (ngSubmit)="confirmForm()">
            <div class="row mb-3 mt-4">
                <div class="col-md-2 col-sm-12">
                    <div class="">
                        <label class="select-label1">Group Code <span class="red">*</span></label>
                    </div>
                </div>
                <div class="col-md-4 col-sm-12">
                    <div class="">
                        <input type="hidden" formControlname="groupId">
                        <input type="hidden" formControlname="insertedBy">
                        <input type="hidden" formControlname="modifiedBy">
                        <input type="hidden" formControlname="insertedDate">
                        <input type="hidden" formControlname="modifiedDate">
                        <input type="text" formControlName="groupCode" name="groupCode" maxlength="6" (input)="isInput()" class="form-control br" [ngClass]="{ 'is-invalid':submitted && countryGroupForm.get('groupCode').errors}" />
                        <div *ngIf="submitted && countryGroupForm.get('groupCode').errors " class="invalid-feedback ">
                            <div *ngIf="countryGroupForm.get('groupCode').errors.required ">Group Code should not be empty.</div>
                            <div *ngIf="countryGroupForm.get('groupCode').errors.pattern ">Do not use special character (@!#$%^&*()).</div>
                            <div *ngIf="countryGroupForm.get('groupCode').errors.maxlength || countryGroupForm.get('groupCode').errors.minlength">Length should be between 10 to 20 char.</div>
                        </div>
                        <div *ngIf="isgroupCodeExist" style="color: red">
                            Group code already exist.
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-sm-12">
                    <div class="">
                        <label class="select-label1">Group Name <span class="red">*</span></label>
                    </div>
                </div>
                <div class="col-md-4 col-sm-12">
                    <div class="">
                        <input type="text" formControlName="groupName" class="form-control br" [ngClass]="{ 'is-invalid':submitted && countryGroupForm.get('groupName').errors}" />
                        <div *ngIf="submitted && countryGroupForm.get('groupName').errors " class="invalid-feedback ">
                            <div *ngIf="countryGroupForm.get('groupName').errors.required ">Group name should not be empty.</div>
                            <div *ngIf="countryGroupForm.get('groupName').errors.pattern ">Do not use special character (@!#$%^&*()).</div>
                            <div *ngIf="countryGroupForm.get('groupName').errors.maxlength || countryGroupForm.get('groupName').errors.minlength">Length should be between 10 to 20 char.</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-5">
                <div class="col-md-2 col-sm-12">
                    <div class="">
                        <label class="select-label1">Group Description <span class="red">*</span></label>
                    </div>
                </div>
                <div class="col-md-4 col-sm-12">
                    <div class="">
                        <input type="text" formControlName="groupDescription" class="form-control br" [ngClass]="{ 'is-invalid':submitted && countryGroupForm.get('groupDescription').errors}" />
                        <div *ngIf="submitted && countryGroupForm.get('groupDescription').errors " class="invalid-feedback ">
                            <div *ngIf="countryGroupForm.get('groupDescription').errors.required ">Group Description should not be empty.</div>
                            <div *ngIf="countryGroupForm.get('groupDescription').errors.pattern ">Do not use special character (@!#$%^&*()).</div>
                            <div *ngIf="countryGroupForm.get('groupDescription').errors.maxlength || countryGroupForm.get('groupDescription').errors.minlength">Length should be between 10 to 20 char.</div>
                        </div>
                    </div>
                </div>

            </div>
            <h5 class="text-color pt-2">Country List</h5>
            <hr>
            <div class="row mt-5">

                <div class="dual-list list-left col-md-5">
                    <label class="col-md-12 mb-4 pl-0">Countries <span class="red">*</span></label>
                    <div class="well">
                        <div class="row">

                            <div class="col-md-2">
                                <div class="btn-group">
                                    <a class="btn btn-default selector" title="select all"><i
                          class="glyphicon glyphicon-unchecked"></i></a>
                                </div>
                            </div>
                        </div>
                        <div>
                            <select formControlName="groupCompanyListS" class="form-control" style="height:200px;" multiple>
                                      <option *ngFor="let country of countries" value="{{country.countryName}} ">{{country.countryName}}</option>
                                      
                                    </select>
                        </div>
                    </div>
                </div>

                <div class="list-arrows col-md-2 text-center">
                    <button type="button" class="btn btn1 shadow1 btnSubmit bg-color text-white btn-block filled move-left" (click)="remove()">
                <i class="fa fa-angle-left" aria-hidden="true" ></i>
              </button>

                    <button type="button" class="btn btn1 shadow1 btnSubmit bg-color text-white btn-block filled move-right" (click)="add()">
                <i class="fa fa-angle-right" aria-hidden="true" ></i>
              </button>
                </div>

                <div class="dual-list list-right col-md-5">
                    <label class="col-md-12 mb-4 pl-0">Selected Countries <span class="red">*</span></label>
                    <div class="well">
                        <div class="row">
                            <div class="col-md-2">
                                <div class="btn-group">
                                    <a class="btn btn-default selector" title="select all"><i
                          class="glyphicon glyphicon-unchecked"></i></a>
                                </div>
                            </div>

                        </div>

                        <select formControlName="groupCompanyList" class="form-control" style="height:200px;" multiple [ngClass]="{ 'is-invalid':submitted && countryGroupForm.get('groupCompanyList').errors}">
                                    <option *ngFor="let entry of countriesList" value="{{entry}}">{{entry}}</option>
                                  </select>
                        <div *ngIf="submitted && countryGroupForm.get('groupCompanyList').errors " class="invalid-feedback ">
                            <div *ngIf="countryGroupForm.get('groupCompanyList').errors.required ">Group name should not be empty.</div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-12 text-center mt-5">
                <input type="reset" class="btn btn1 shadow1 btnSubmit bg-color text-white" value="Cancel" (click)="reset()" />
                <input type="submit" class="btn btn1 shadow1 btnSubmit bg-color text-white ml-2" value="Submit" />
            </div>
        </form>
    </div>



</div>
<!--For view Country Group-->
<div class="shadow1 mt-5 pt-4 pb-5 pl-30 pr-30" *ngIf="confirm">
    <h5 class="text-color pt-2">Country Group Details</h5>
    <hr>
    <form>
        <div class="table-responsive">
            <table class="table table-borderless">

                <tr>
                    <td class="font-weight-bold">Group code</td>
                    <td>{{groupCode}}</td>
                    <td class="font-weight-bold">Group Name</td>
                    <td>{{groupName}}</td>
                </tr>

                <tr>
                    <td class="font-weight-bold"> Group Description</td>
                    <td>{{groupDescription}}</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
            </table>
        </div>
        <h5 class="text-color pt-2">Country List</h5>
        <hr>
        <div class="row mb-3 mt-4">
            <div class="col-md-4 col-sm-12">
                <div class="">
                    <label class="font-weight-bold color-black pl-2">Selected Countries</label>
                </div>
            </div>
            <div class="col-md-4 col-sm-12">
                <div class="pl-2">
                    <p *ngFor="let r of groupSelectedCompanies;let i=index" style="padding: 1px;border-bottom: 1px solid gray">{{groupSelectedCompanies[i]}}</p>

                </div>
            </div>
        </div>

        <div class="col-md-12 text-center mt-5">
            <input type="button" class="btn btn1 shadow1 btnSubmit bg-color text-white" value="Cancel" (click)="cancel()" />
            <input type="submit" class="btn btn1 shadow1 btnSubmit bg-color text-white ml-2" value="Confirm" (click)="save()" />
        </div>
    </form>
</div>

<div class="modal" id="success" role="dialog">
    <div class="modal-dialog modal-dialog-centered">

        <!-------------------------------------------------------->
        <!-------------------------------------------------------->
        <!-------------------------------------------------------->
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header bg-info">
                <h3 class="text-light">Success</h3>
                <button type="button" class="close" (click)="close()" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <h4>{{success}}</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal" (click)="close()">Close</button>
            </div>
        </div>

    </div>
</div>

<div class="modal" id="error" role="dialog">
    <div class="modal-dialog modal-dialog-centered">

        <!-------------------------------------------------------->
        <!-------------------------------------------------------->
        <!-------------------------------------------------------->
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header bg-danger">
                <h3 class="text-light">Error</h3>
                <button type="button" class="close" (click)="close()" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <h4>{{success}}</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="close()">Close</button>
            </div>
        </div>

    </div>
</div>